\documentclass[a4paper]{article}
\usepackage{fullpage}
\usepackage{array}
\usepackage{longtable}
\newcommand{\tab}{\hspace*{0.5cm}}
\def\bbbn{{\rm I\!N}}
\def\bbbr{{\rm I\!R}}
\def\bbbb{{\rm I\!B}}
\def\bbbz{{\rm Z\!\!Z}}
\begin{document}
\newcounter{ln}\setcounter{ln}{0}
\begin{longtable}{r >{\rightskip=0pt plus1fil}p{16cm}}
\stepcounter{ln}\arabic{ln}&${\cal CHAR} \mbox{\bf\ is } \bbbn;$\\
\stepcounter{ln}\arabic{ln}&${\cal STATE} \mbox{\bf\ is } \bbbn;$\\
\stepcounter{ln}\arabic{ln}&${\cal HSTATE} \mbox{\bf\ is } \bbbb \times 2^{{\cal CHAR} \times {\cal STATE}};$\\
\stepcounter{ln}\arabic{ln}&${\cal DEGREE} \mbox{\bf\ is } {\cal STATE} \rightarrow \bbbn;$\\
\stepcounter{ln}\arabic{ln}&${\cal HEIGHT} \mbox{\bf\ is } {\cal STATE} \rightarrow \bbbn;$\\
\stepcounter{ln}\arabic{ln}&${\cal ALPHABET} \mbox{\bf\ is } 2^{{\cal CHAR}};$\\
\stepcounter{ln}\arabic{ln}&${\cal DTRANSITIONS} \mbox{\bf\ is } {\cal STATE} \times {\cal CHAR} \rightarrow {\cal STATE};$\\
\stepcounter{ln}\arabic{ln}&${\cal DAUTOMATON} \mbox{\bf\ is } {\cal ALPHABET} \times 2^{{\cal STATE}} \times {\cal STATE} \times 2^{{\cal STATE}} \times {\cal DTRANSITIONS};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {invariant}} : {\cal DAUTOMATON} \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT} \rightarrow \bbbb;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {invariant}}(({{\Sigma}},{Q},{s},{F},{{\delta}}),{h},{indeg},{outdeg},{height}) := (\left|{Q}\right| = \left|{h}\right|) \wedge (\left|{Q}\right| = \left|{indeg}\right|) \wedge (\left|{Q}\right| = \left|{outdeg}\right|) \wedge (\left|{Q}\right| = \left|{height}\right|) \wedge (\sum (\langle {indeg_{{q}}}\ |\ ({q},{indeg_{{q}}}) \in {indeg}\rangle ) = \left|{{\delta}}\right|) \wedge (\sum (\langle {outdeg_{{q}}}\ |\ ({q},{outdeg_{{q}}}) \in {outdeg}\rangle ) = \left|{{\delta}}\right|);$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {radixSort}} : (\bbbn \times \bbbn)^\ast  \rightarrow (\bbbn \times \bbbn)^\ast ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {radixSort}}({list}) := {sortedList}, \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab${radix} := 10;$\\
\stepcounter{ln}\arabic{ln}&\tab${range} := \langle 0,\ldots,{radix}\rangle ;$\\
\stepcounter{ln}\arabic{ln}&\tab${placement} \in \bbbn;$\\
\stepcounter{ln}\arabic{ln}&\tab${buckets} \in (\bbbn \times (\bbbn \times \bbbn)^\ast )^\ast ;$\\
\stepcounter{ln}\arabic{ln}&\tab$({sortedList},{buckets},{placement}) :=  \mbox{\bf induction } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } 0 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${buckets}^{(0)} := \langle ({digit},\langle ({p},{n})\ |\ ({p},{n}) \in {list}\ \&\ {n} \mod  {radix} = {digit}\rangle )\ |\ {digit} \in {range}\rangle ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${placement}^{(0)} := {radix};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${sortedList}^{(0)} := \langle ({p},{n})\ |\ ({digit},{bucket}) \in {buckets}^{(0)} , ({p},{n}) \in {bucket}\rangle ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } {k}+1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${buckets}^{({k}+1)} := \langle ({digit},\langle ({p},{n})\ |\ ({p},{n}) \in {sortedList}^{({k})}\ \&\ ({n} / {placement}^{({k})}) \mod  {radix} = {digit}\rangle )\ |\ {digit} \in {range}\rangle ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${placement}^{({k}+1)} := {placement}^{({k})} \times {radix};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${sortedList}^{({k}+1)} := \langle ({p},{n})\ |\ ({digit},{bucket}) \in {buckets}^{({k}+1)} , ({p},{n}) \in {bucket}\rangle ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf until }\left|\mathop{\rm Proj}_{2}(({buckets}^{({k})})_{1})\right| = \left|{list}\right|$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {V}} : {\cal DAUTOMATON} \rightarrow \bbbr;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {V}}({{\Sigma}},{Q},{s},{F},{{\delta}}) := \left|{Q}\right| + \left|{{\delta}}\right|;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {L'}} : {\cal DAUTOMATON} \rightarrow 2^{{\cal STRING}};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {L'}}({{\Sigma}},{Q},{s},{F},{{\delta}}) := \mathop{\rm {RL}}({s}), \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab$\mathop{\rm {RL}} : {\cal STATE} \rightarrow 2^{{\cal STRING}};$\\
\stepcounter{ln}\arabic{ln}&\tab${visited} \in 2^{{\cal STATE}};$\\
\stepcounter{ln}\arabic{ln}&\tab$({RL},{visited}) :=  \mbox{\bf induction } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } 1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${q} := (\langle {q}\ |\ {q} \in {F}\ \&\ \forall {a} \in {{\Sigma}} :(\neg (!\mathop{\rm {{\delta}}}({q},{a})))\rangle )_{1};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${RL}^{(1)} := \{({q},\{\mbox{""}\})\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${visited}^{(1)} := \{{q}\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } {n}+1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${parents} := \{{p}\ |\ {p} \in {Q} \setminus {visited}^{({n})}\ \&\ \forall {c} \in \{\mathop{\rm {{\delta}}}({p},{a})\ |\ {a} \in {{\Sigma}}\ \&\ !\mathop{\rm {{\delta}}}({p},{a})\} :({c} \in {visited}^{({n})})\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${RL}^{({n}+1)} := {RL}^{({n})} \cup {PL}, \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab${P} := {parents}\mbox{\bf\ as } {\cal STATE}^\ast ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab${PL} :=  \mbox{\bf induction } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$\mbox{\bf step } 0 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab\tab${PL}^{(0)} := \emptyset;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$\mbox{\bf step } {m}+1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab\tab${p} := ({P})_{{m} + 1};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab\tab${{\delta}_{{p}}} := \{({a},\mathop{\rm {{\delta}}}({p},{a}))\ |\ {a} \in {{\Sigma}}\ \&\ !\mathop{\rm {{\delta}}}({p},{a})\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab\tab${RL_{{p}}} := \{\langle {a}\rangle  \cdot {w}\ |\ ({a},{q}) \in {{\delta}_{{p}}} , {w} \in \mathop{\rm {RL}^{({n})}}({q})\} \cup \left\{ \begin{array}{ll}\{\mbox{""}\} & \mbox{\bf if } {p} \in {F}\\
\emptyset & \mbox{\bf otherwise}\end{array} \right.;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab\tab${PL}^{({m}+1)} := {PL}^{({m})} \cup \{({p},{RL_{{p}}})\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$\mbox{\bf until }{m} = \left|{parents}\right|$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${visited}^{({n}+1)} := {visited}^{({n})} \cup {parents};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf until }\left|{visited}^{({n})}\right| = \left|{Q}\right|$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {L}} : {\cal DAUTOMATON} \rightarrow 2^{{\cal STRING}};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {L}}({{\Sigma}},{Q},{s},{F},{{\delta}}) := \left\{ \begin{array}{ll}\emptyset & \mbox{\bf if } \left|{F}\right| = 0\\
\mathop{\rm {L'}}({{\Sigma}},{Q},{s},{F},{{\delta}}) & \mbox{\bf otherwise}\end{array} \right.;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {printLang}} : {\cal STRING}^\ast  \rightarrow \bbbn;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {printLang}}({lang}) := {r}, \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab${r} :=  \mbox{\bf induction } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } 1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${r}^{(1)} := 1;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${word} := \left\{ \begin{array}{ll}({lang})_{1} & \mbox{\bf if } \left|{lang}\right| > 0\\
\varepsilon & \mbox{\bf otherwise}\end{array} \right.;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {print}} \ \leftarrow \ {word};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {print}} \ \leftarrow \ \mbox{"$\setminus$n"};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } {n}+1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${r}^{({n}+1)} := {n} + 1;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {print}} \ \leftarrow \ ({lang})_{{n} + 1};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {print}} \ \leftarrow \ \mbox{"$\setminus$n"};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf until }{n} \geq \left|{lang}\right|$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {langDist}} : 2^{{\cal STRING}} \times 2^{{\cal STRING}} \rightarrow \bbbr;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {langDist}}({L_{{A}}},{L_{{B}}}) := \left|{L_{{A}}} \setminus {L_{{B}}} \cup {L_{{B}}} \setminus {L_{{A}}}\right| + 1;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {F_{{A}}}} : \bbbr \times 2^{{\cal STRING}} \times {\cal DAUTOMATON} \rightarrow \bbbr;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {F_{{A}}}}({V_{{A}}},{L_{{A}}},{B}) := {v} / {l}, \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab${v} \in \bbbr;$\\
\stepcounter{ln}\arabic{ln}&\tab${l} \in \bbbr;$\\
\stepcounter{ln}\arabic{ln}&\tab${v} := {V_{{A}}} - \mathop{\rm {V}}({B});$\\
\stepcounter{ln}\arabic{ln}&\tab${l} := \mathop{\rm {langDist}}({L_{{A}}},\mathop{\rm {L}}({B}));$\\
\stepcounter{ln}\arabic{ln}&\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {delTr}} : {\cal DAUTOMATON} \times ({\cal STATE} \times {\cal CHAR} \times {\cal STATE}) \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT} \rightarrow {\cal DAUTOMATON} \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT} \times {\cal STATE} \times {\cal STATE};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {delTr}}(({{\Sigma}},{Q},{s},{F},{{\delta}}),({q_{{1}}},{a},{q_{{2}}}),{h},{indeg},{outdeg},{height}) := ({A},{h'},{indeg'},{outdeg'},{height'},{q_{{1}}},{q_{{2}}}), \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab${{\delta}'} := {{\delta}} \setminus \{(({q_{{1}}},{a}),{q_{{2}}})\};$\\
\stepcounter{ln}\arabic{ln}&\tab${A} := ({{\Sigma}},{Q},{s},{F},{{\delta}'});$\\
\stepcounter{ln}\arabic{ln}&\tab${g} := ({q_{{1}}} \in {F},\{({b},\mathop{\rm {{\delta}}}({q_{{1}}},{b}))\ |\ {b} \in {{\Sigma}}\ \&\ !\mathop{\rm {{\delta}}}({q_{{1}}},{b})\});$\\
\stepcounter{ln}\arabic{ln}&\tab${h'} := {h} \setminus \{({g},{q_{{1}}})\};$\\
\stepcounter{ln}\arabic{ln}&\tab${indeg'} := {indeg} \setminus \{({q_{{2}}},\mathop{\rm {indeg}}({q_{{2}}}))\} \cup \{({q_{{2}}},\mathop{\rm {indeg}}({q_{{2}}}) - 1)\};$\\
\stepcounter{ln}\arabic{ln}&\tab${outdeg'} := {outdeg} \setminus \{({q_{{1}}},\mathop{\rm {outdeg}}({q_{{1}}}))\} \cup \{({q_{{1}}},\mathop{\rm {outdeg}}({q_{{1}}}) - 1)\};$\\
\stepcounter{ln}\arabic{ln}&\tab${children_{{q_{{1}}}}} := \{\mathop{\rm {{\delta}'}}({q_{{1}}},{b})\ |\ {b} \in {{\Sigma}}\ \&\ !\mathop{\rm {{\delta}'}}({q_{{1}}},{b})\};$\\
\stepcounter{ln}\arabic{ln}&\tab${height_{{q_{{1}}}}} := \mathop{\rm {max}}(\langle \mathop{\rm {height}}({c})\ |\ {c} \in {children_{{q_{{1}}}}}\rangle ) + \left\{ \begin{array}{ll}1 & \mbox{\bf if } \left|{children_{{q_{{1}}}}}\right| \neq 0\\
0 & \mbox{\bf otherwise}\end{array} \right.;$\\
\stepcounter{ln}\arabic{ln}&\tab${height'} := {height} \setminus \{({q_{{1}}},\mathop{\rm {height}}({q_{{1}}}))\} \cup \{({q_{{1}}},{height_{{q_{{1}}}}})\};$\\
\stepcounter{ln}\arabic{ln}&\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {addTr}} : {\cal DAUTOMATON} \times ({\cal STATE} \times {\cal CHAR} \times {\cal STATE}) \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT} \rightarrow {\cal DAUTOMATON} \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT} \times {\cal STATE}^\ast ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {addTr}}(({{\Sigma}},{Q},{s},{F},{{\delta}}),({q_{{1}}},{a},{q_{{2}}}),{h},{indeg},{outdeg},{height}) := ({A},{h'},{indeg'},{outdeg'},{height'},\langle {q_{{1}}}\rangle ), \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab${{\delta}'} := {{\delta}} \cup \{(({q_{{1}}},{a}),{q_{{2}}})\};$\\
\stepcounter{ln}\arabic{ln}&\tab${A} := ({{\Sigma}},{Q},{s},{F},{{\delta}'});$\\
\stepcounter{ln}\arabic{ln}&\tab${{\delta}_{{q_{{1}}}}} := \{({b},\mathop{\rm {{\delta}}}({q_{{1}}},{b}))\ |\ {b} \in {{\Sigma}}\ \&\ !\mathop{\rm {{\delta}}}({q_{{1}}},{b})\};$\\
\stepcounter{ln}\arabic{ln}&\tab${g} := ({q_{{1}}} \in {F},{{\delta}_{{q_{{1}}}}});$\\
\stepcounter{ln}\arabic{ln}&\tab${h'} := {h} \setminus \{({g},{q_{{1}}})\};$\\
\stepcounter{ln}\arabic{ln}&\tab${indeg'} := {indeg} \setminus \{({q_{{2}}},\mathop{\rm {indeg}}({q_{{2}}}))\} \cup \{({q_{{2}}},\mathop{\rm {indeg}}({q_{{2}}}) + 1)\};$\\
\stepcounter{ln}\arabic{ln}&\tab${outdeg'} := {outdeg} \setminus \{({q_{{1}}},\mathop{\rm {outdeg}}({q_{{1}}}))\} \cup \{({q_{{1}}},\mathop{\rm {outdeg}}({q_{{1}}}) + 1)\};$\\
\stepcounter{ln}\arabic{ln}&\tab${children_{{q_{{1}}}}} := \mathop{\rm Proj}_{2}({{\delta}_{{q_{{1}}}}}) \cup \{{q_{{2}}}\};$\\
\stepcounter{ln}\arabic{ln}&\tab${height_{{q_{{1}}}}} := \mathop{\rm {max}}(\langle \mathop{\rm {height}}({c})\ |\ {c} \in {children_{{q_{{1}}}}}\rangle ) + 1;$\\
\stepcounter{ln}\arabic{ln}&\tab${height'} := {height} \setminus \{({q_{{1}}},\mathop{\rm {height}}({q_{{1}}}))\} \cup \{({q_{{1}}},{height_{{q_{{1}}}}})\};$\\
\stepcounter{ln}\arabic{ln}&\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {fin}} : {\cal DAUTOMATON} \times {\cal STATE} \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT} \rightarrow {\cal DAUTOMATON} \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT} \times {\cal STATE}^\ast ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {fin}}(({{\Sigma}},{Q},{s},{F},{{\delta}}),{q},{h},{indeg},{outdeg},{height}) := ({A},{h'},{indeg},{outdeg},{height},\langle {q}\rangle ), \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab${A} := ({{\Sigma}},{Q},{s},{F} \cup \{{q}\},{{\delta}});$\\
\stepcounter{ln}\arabic{ln}&\tab${g} := ({q} \in {F},\{({a},\mathop{\rm {{\delta}}}({q},{a}))\ |\ {a} \in {{\Sigma}}\ \&\ !\mathop{\rm {{\delta}}}({q},{a})\});$\\
\stepcounter{ln}\arabic{ln}&\tab${h'} := {h} \setminus \{({g},{q})\};$\\
\stepcounter{ln}\arabic{ln}&\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {bottomUpTrim}} : {\cal DAUTOMATON} \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT} \times {\cal STATE} \rightarrow {\cal DAUTOMATON} \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT} \times {\cal STATE}^\ast ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {bottomUpTrim}}({A},{h},{indeg},{outdeg},{height},{q_{{1}}}) := ({A_{{1}}},{h_{{1}}},{indeg_{{1}}},{outdeg_{{1}}},{height_{{1}}},{rqueue}), \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab${queue_{{1}}} \in {\cal STATE}^\ast ;$\\
\stepcounter{ln}\arabic{ln}&\tab${queue} \in 2^{{\cal STATE}};$\\
\stepcounter{ln}\arabic{ln}&\tab$({A_{{1}}},{h_{{1}}},{indeg_{{1}}},{outdeg_{{1}}},{height_{{1}}},{queue_{{1}}},{queue}) :=  \mbox{\bf induction } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } 0 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({{\Sigma}},{Q},{s},{F},{{\delta}}) := {A};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({A_{{1}}}^{(0)},{h_{{1}}}^{(0)},{indeg_{{1}}}^{(0)},{outdeg_{{1}}}^{(0)},{height_{{1}}}^{(0)}) := ({A},{h},{indeg},{outdeg},{height});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({queue_{{1}}}^{(0)},{queue}^{(0)}) := \left\{ \begin{array}{ll}(\varepsilon,\{{q_{{1}}}\}) & \mbox{\bf if } (\mathop{\rm {outdeg}}({q_{{1}}}) \neq 0) \vee ({q_{{1}}} \in {F})\\
(\langle {q_{{1}}}\rangle ,\emptyset) & \mbox{\bf otherwise}\end{array} \right.;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } {n}+1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${q} := ({queue_{{1}}}^{({n})})_{1};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({{\Sigma}},{Q},{s},{F},{{\delta}}) := {A_{{1}}}^{({n})};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({A_{{1}}}^{({n}+1)},{h_{{1}}}^{({n}+1)},{indeg_{{1}}}^{({n}+1)},{outdeg_{{1}}}^{({n}+1)},{height_{{1}}}^{({n}+1)},{queue_{{1}}}^{({n}+1)},{queue}^{({n}+1)}) := $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$\mbox{\bf case } (\mathop{\rm {outdeg_{{1}}}^{({n})}}({q}) \neq 0) \vee ({q} \in {F}) : ({A_{{1}}}^{({n})},{h_{{1}}}^{({n})},{indeg_{{1}}}^{({n})},{outdeg_{{1}}}^{({n})},{height_{{1}}}^{({n})},({queue_{{1}}}^{({n})})_{2,\ldots,\left|{queue_{{1}}}^{({n})}\right|},{queue}^{({n})} \cup \{{q}\})$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$\mbox{\bf case } (\mathop{\rm {outdeg_{{1}}}^{({n})}}({q}) = 0) \wedge ({q} \not\in {F}) : ({A'},{h'},{indeg'},{outdeg'},{height'},{queue_{{1'}}},{queue'}), \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${{\delta}_{{q_{{parents}}}}} \in {\cal DTRANSITIONS};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${{\delta}_{{q_{{parents}}}}} := \{(({t_{{1}}},{x}),{q})\ |\ (({t_{{1}}},{x}),{q}) \in {{\delta}}\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${q_{{parents}}} := \langle {t_{{1}}}\ |\ (({t_{{1}}},{x}),{t_{{2}}}) \in {{\delta}_{{q_{{parents}}}}}\rangle ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${outdeg_{{q_{{parents}}}}} \in {\cal DEGREE};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${outdeg_{{q_{{parents}}}}} := \{({p},\mathop{\rm {outdeg_{{1}}}^{({n})}}({p}))\ |\ {p} \in {q_{{parents}}}\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${A'} := ({{\Sigma}},{Q} \setminus \{{q}\},{s},{F},{{\delta}} \setminus {{\delta}_{{q_{{parents}}}}});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${h'} := {h_{{1}}}^{({n})} \setminus \{({g},{p})\ |\ {p} \in {q_{{parents}}} , ({g},{p}) \in {h_{{1}}}^{({n})}\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${indeg'} := {indeg_{{1}}}^{({n})} \setminus \{({q},\mathop{\rm {indeg_{{1}}}^{({n})}}({q}))\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${outdeg'} := ({outdeg_{{1}}}^{({n})} \setminus \{({q},\mathop{\rm {outdeg_{{1}}}^{({n})}}({q}))\}) \setminus {outdeg_{{q_{{parents}}}}} \cup \{({p},{out_{{p}}} - \left|\{{x}\ |\ {x} \in {{\Sigma}}\ \&\ !\mathop{\rm {{\delta}}}({p},{x}) \wedge (\mathop{\rm {{\delta}}}({p},{x}) = {q})\}\right|)\ |\ ({p},{out_{{p}}}) \in {outdeg_{{q_{{parents}}}}}\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${height'} := {height_{{1}}}^{({n})} \setminus \{({q},\mathop{\rm {height_{{1}}}^{({n})}}({q}))\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${queue_{{1'}}} := \langle {el}\ |\ {el} \in \mathop{\rm {set}}(({queue_{{1}}}^{({n})})_{2,\ldots,\left|{queue_{{1}}}^{({n})}\right|} \cdot {q_{{parents}}})\rangle ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${queue'} := {queue}^{({n})} \setminus \{{q}\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf until }\left|{queue_{{1}}}^{({n})}\right| = 0$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&\tab${rqueue} := \langle {q}\ |\ {q} \in {queue}\rangle ;$\\
\stepcounter{ln}\arabic{ln}&\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {topDownTrim}} : {\cal DAUTOMATON} \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT} \times {\cal STATE} \rightarrow {\cal DAUTOMATON} \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {topDownTrim}}({A},{h},{indeg},{outdeg},{height},{q_{{2}}}) := ({A_{{2}}},{h_{{2}}},{indeg_{{2}}},{outdeg_{{2}}},{height_{{2}}}), \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab${queue_{{2}}} \in {\cal STATE}^\ast ;$\\
\stepcounter{ln}\arabic{ln}&\tab$({A_{{2}}},{h_{{2}}},{indeg_{{2}}},{outdeg_{{2}}},{queue_{{2}}},{height_{{2}}}) :=  \mbox{\bf induction } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } 0 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${queue_{{2}}}^{(0)} := \left\{ \begin{array}{ll}\varepsilon & \mbox{\bf if } \mathop{\rm {indeg}}({q_{{2}}}) \neq 0\\
\langle {q_{{2}}}\rangle  & \mbox{\bf otherwise}\end{array} \right.;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({A_{{2}}}^{(0)},{h_{{2}}}^{(0)},{indeg_{{2}}}^{(0)},{outdeg_{{2}}}^{(0)},{height_{{2}}}^{(0)}) := ({A},{h},{indeg},{outdeg},{height});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } {n}+1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${q} := ({queue_{{2}}}^{({n})})_{1};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({{\Sigma}},{Q},{s},{F},{{\delta}}) := {A_{{2}}}^{({n})};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({A_{{2}}}^{({n}+1)},{h_{{2}}}^{({n}+1)},{indeg_{{2}}}^{({n}+1)},{outdeg_{{2}}}^{({n}+1)},{height_{{2}}}^{({n}+1)},{queue_{{2}}}^{({n}+1)}) := $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$\mbox{\bf case } \mathop{\rm {indeg_{{2}}}^{({n})}}({q}) \neq 0 : ({A_{{2}}}^{({n})},{h_{{2}}}^{({n})},{indeg_{{2}}}^{({n})},{outdeg_{{2}}}^{({n})},{height_{{2}}}^{({n})},({queue_{{2}}}^{({n})})_{2,\ldots,\left|{queue_{{2}}}^{({n})}\right|})$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$\mbox{\bf case } \mathop{\rm {indeg_{{2}}}^{({n})}}({q}) = 0 : ({A'},{h'},{indeg'},{outdeg'},{height'},{queue'}), \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${{\delta}_{{q}}} \in {\cal DTRANSITIONS};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${{\delta}_{{q}}} := \{(({q},{x}),\mathop{\rm {{\delta}}}({q},{x}))\ |\ {x} \in {{\Sigma}}\ \&\ !\mathop{\rm {{\delta}}}({q},{x})\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${q_{{children}}} := \langle {t_{{2}}}\ |\ (({t_{{1}}},{x}),{t_{{2}}}) \in {{\delta}_{{q}}}\rangle ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${indeg_{{q_{{children}}}}} \in {\cal DEGREE};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${indeg_{{q_{{children}}}}} := \{({c},\mathop{\rm {indeg_{{2}}}^{({n})}}({c}))\ |\ {c} \in {q_{{children}}}\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${A'} := ({{\Sigma}},{Q} \setminus \{{q}\},{s},{F} \setminus \{{q}\},{{\delta}} \setminus {{\delta}_{{q}}});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${g} := ({q} \in {F},\{({x},{t_{{2}}})\ |\ (({t_{{1}}},{x}),{t_{{2}}}) \in {{\delta}_{{q}}}\});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${h'} := {h_{{2}}}^{({n})} \setminus \{({g},{q})\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${indeg'} := ({indeg_{{2}}}^{({n})} \setminus \{({q},\mathop{\rm {indeg_{{2}}}^{({n})}}({q}))\}) \setminus {indeg_{{q_{{children}}}}} \cup \{({c},{indeg_{{c}}} - \left|\{{x}\ |\ {x} \in {{\Sigma}}\ \&\ !\mathop{\rm {{\delta}}}({q},{x}) \wedge (\mathop{\rm {{\delta}}}({q},{x}) = {c})\}\right|)\ |\ ({c},{indeg_{{c}}}) \in {indeg_{{q_{{children}}}}}\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${outdeg'} := {outdeg_{{2}}}^{({n})} \setminus \{({q},\mathop{\rm {outdeg_{{2}}}^{({n})}}({q}))\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${height'} := {height_{{2}}}^{({n})} \setminus \{({q},\mathop{\rm {height_{{2}}}^{({n})}}({q}))\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${queue'} := \langle {el}\ |\ {el} \in \mathop{\rm {set}}(({queue_{{2}}}^{({n})})_{2,\ldots,\left|{queue_{{2}}}^{({n})}\right|} \cdot {q_{{children}}})\rangle ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf until }\left|{queue_{{2}}}^{({n})}\right| = 0$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {trim}} : {\cal DAUTOMATON} \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT} \times {\cal STATE} \times {\cal STATE} \rightarrow {\cal DAUTOMATON} \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT} \times {\cal STATE}^\ast ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {trim}}({A},{h},{indeg},{outdeg},{height},{q_{{1}}},{q_{{2}}}) := \mathop{\rm {bottomUpTrim}}({A_{{1}}},{h_{{1}}},{indeg_{{1}}},{outdeg_{{1}}},{height_{{1}}},{q_{{1}}}), \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab$({A_{{1}}},{h_{{1}}},{indeg_{{1}}},{outdeg_{{1}}},{height_{{1}}}) := \mathop{\rm {topDownTrim}}({A},{h},{indeg},{outdeg},{height},{q_{{2}}});$\\
\stepcounter{ln}\arabic{ln}&\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {min}} : {\cal DAUTOMATON} \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT} \times {\cal STATE}^\ast  \rightarrow {\cal DAUTOMATON} \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {min}}(({{\Sigma}},{Q},{s},{F},{{\delta}}),{h},{indeg},{outdeg},{height},{queue}) := ({A'},{h'},{indeg'},{outdeg'},{height'}), \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab${parents} \in 2^{{\cal STATE}};$\\
\stepcounter{ln}\arabic{ln}&\tab${parents} :=  \mbox{\bf induction } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } 0 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${parents}^{(0)} := \mathop{\rm {set}}({queue});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } {n}+1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${parents}^{({n}+1)} := {parents}^{({n})} \cup \{{p}\ |\ {q} \in {parents}^{({n})} , (({p},{a}),{q}) \in {{\delta}}\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf until }\forall {q} \in {parents}^{({n})} , (({p},{a}),{q}) \in {{\delta}} :({p} \in {parents}^{({n})})$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&\tab$\mathop{\rm {hash_{{parents}}}} : {\cal HSTATE} \rightarrow {\cal STATE};$\\
\stepcounter{ln}\arabic{ln}&\tab${hash_{{parents}}} := \{({hp},{p})\ |\ {p} \in {parents} , ({hp},{p}) \in {h}\};$\\
\stepcounter{ln}\arabic{ln}&\tab${sorted_{{parents}}} := \langle {par}\ |\ ({par},{dep}) \in \mathop{\rm {radixSort}}(\langle ({p},\mathop{\rm {height}}({p}))\ |\ {p} \in {parents}\rangle )\rangle ;$\\
\stepcounter{ln}\arabic{ln}&\tab$({A'},{h'},{indeg'},{outdeg'},{height'}) :=  \mbox{\bf induction } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } 0 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${A'}^{(0)} := ({{\Sigma}},{Q},{s},{F},{{\delta}});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${h'}^{(0)} := {h} \setminus {hash_{{parents}}};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${indeg'}^{(0)} := {indeg};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${outdeg'}^{(0)} := {outdeg};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${height'}^{(0)} := {height};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } {k}+1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({{\Sigma}},{Q},{s},{F},{{\delta}}) := {A'}^{({k})};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${q} := ({sorted_{{parents}}})_{{k} + 1};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${g} := ({q} \in {F},\{({a},\mathop{\rm {{\delta}}}({q},{a}))\ |\ {a} \in {{\Sigma}}\ \&\ !\mathop{\rm {{\delta}}}({q},{a})\});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({A'}^{({k}+1)},{h'}^{({k}+1)},{indeg'}^{({k}+1)},{outdeg'}^{({k}+1)},{height'}^{({k}+1)}) := $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$\mbox{\bf case } \neg (!\mathop{\rm {h'}^{({k})}}({g})) : ({A'}^{({k})},{h'}^{({k})} \cup \{({g},{q})\},{indeg'}^{({k})},{outdeg'}^{({k})},{height'}^{({k})})$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$\mbox{\bf case } !\mathop{\rm {h'}^{({k})}}({g}) : (({{\Sigma}},{Q} \setminus \{{q}\},{s},{F} \setminus \{{q}\},{{\delta}'}),{h'}^{({k})},{indeg''},{outdeg''},{height''}), \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${r} := \mathop{\rm {h'}^{({k})}}({g});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${in_{{q}}} \in {\cal DTRANSITIONS};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${in_{{q}}} := \{(({p},{a}),{q})\ |\ (({p},{a}),{q}) \in {{\delta}}\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${{\delta}_{{q}}} \in {\cal DTRANSITIONS};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${{\delta}_{{q}}} := \{(({q},{a}),\mathop{\rm {{\delta}}}({q},{a}))\ |\ {a} \in {{\Sigma}}\ \&\ !\mathop{\rm {{\delta}}}({q},{a})\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${{\delta}'} := ({{\delta}} \setminus {{\delta}_{{q}}}) \setminus {in_{{q}}} \cup \{(({p},{a}),{r})\ |\ (({p},{a}),{q}) \in {in_{{q}}}\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${q_{{children}}} := \{{q_{{2}}}\ |\ (({q_{{1}}},{a}),{q_{{2}}}) \in {{\delta}_{{q}}}\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${indeg_{{q_{{children}}}}} \in {\cal DEGREE};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${indeg_{{q_{{children}}}}} := \{({c},\mathop{\rm {indeg'}^{({k})}}({c}))\ |\ {c} \in {q_{{children}}}\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${indeg''} := (({indeg'}^{({k})} \setminus {indeg_{{q_{{children}}}}}) \setminus \{({q},\mathop{\rm {indeg'}^{({k})}}({q}))\}) \setminus \{({r},\mathop{\rm {indeg'}^{({k})}}({r}))\} \cup \{({r},\mathop{\rm {indeg'}^{({k})}}({r}) + \left|{in_{{q}}}\right|)\} \cup \{({c},{in_{{c}}} - \left|\{{x}\ |\ (({q},{x}),{c}) \in {{\delta}_{{q}}}\}\right|)\ |\ ({c},{in_{{c}}}) \in {indeg_{{q_{{children}}}}}\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${outdeg''} := {outdeg'}^{({k})} \setminus \{({q},\mathop{\rm {outdeg'}^{({k})}}({q}))\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${height''} := {height'}^{({k})} \setminus \{({q},\mathop{\rm {height'}^{({k})}}({q}))\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf until }{k} = \left|{sorted_{{parents}}}\right|$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {existsPath}} : {\cal ALPHABET} \times {\cal DTRANSITIONS} \times {\cal STATE} \times {\cal STATE} \rightarrow \bbbb;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {existsPath}}({{\Sigma}},{{\delta}},{q_{{1}}},{q_{{2}}}) := {existsP}, \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab${q_{{1_{{children}}}}} := \{\mathop{\rm {{\delta}}}({q_{{1}}},{a})\ |\ {a} \in {{\Sigma}}\ \&\ !\mathop{\rm {{\delta}}}({q_{{1}}},{a})\};$\\
\stepcounter{ln}\arabic{ln}&\tab${existsP} := ({q_{{1}}} = {q_{{2}}}) \vee ({q_{{2}}} \in {q_{{1_{{children}}}}}) \vee \exists {c} \in {q_{{1_{{children}}}}} :(\mathop{\rm {existsPath}}({{\Sigma}},{{\delta}},{c},{q_{{2}}}));$\\
\stepcounter{ln}\arabic{ln}&\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {getSemiEquivalent}} : {\cal DAUTOMATON} \rightarrow 2^{{\cal STATE} \times {\cal CHAR} \times {\cal STATE}};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {getSemiEquivalent}}({{\Sigma}},{Q},{s},{F},{{\delta}}) := {equivalentTransitions}, \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab$\mathop{\rm {proj}} : {\cal STATE} \rightarrow 2^{{\cal CHAR} \times {\cal STATE}};$\\
\stepcounter{ln}\arabic{ln}&\tab${proj} := \{({q},\{({a},\mathop{\rm {{\delta}}}({q},{a}))\ |\ {a} \in {{\Sigma}}\ \&\ !\mathop{\rm {{\delta}}}({q},{a})\})\ |\ {q} \in {Q}\};$\\
\stepcounter{ln}\arabic{ln}&\tab${Q'} := {Q}\mbox{\bf\ as } {\cal STATE}^\ast ;$\\
\stepcounter{ln}\arabic{ln}&\tab$\mathop{\rm {semiEquiv}} : {\cal STATE} \rightarrow 2^{{\cal STATE}};$\\
\stepcounter{ln}\arabic{ln}&\tab${semiEquiv} :=  \mbox{\bf induction } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } 0 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${semiEquiv}^{(0)} := \emptyset;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } {n}+1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${q} := ({Q'})_{{n} + 1};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${semiEquiv}^{({n}+1)} := {semiEquiv}^{({n})} \cup \left\{ \begin{array}{ll}\{({q},\{{p}\ |\ {p} \in {F}\ \&\ (\left|\mathop{\rm {proj}}({p}) \setminus \mathop{\rm {proj}}({q})\right| = 1) \wedge (\left|\mathop{\rm {proj}}({q}) \setminus \mathop{\rm {proj}}({p})\right| = 0)\})\} & \mbox{\bf if } {q} \in {F}\\
\{({q},\{{p}\ |\ {p} \in {Q} \setminus {F}\ \&\ (\left|\mathop{\rm {proj}}({p}) \setminus \mathop{\rm {proj}}({q})\right| = 1) \wedge (\left|\mathop{\rm {proj}}({q}) \setminus \mathop{\rm {proj}}({p})\right| = 0)\})\} & \mbox{\bf otherwise}\end{array} \right.;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf until }{n} = \left|{Q'}\right|$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&\tab${equivalentTransitions} \in 2^{{\cal STATE} \times {\cal CHAR} \times {\cal STATE}};$\\
\stepcounter{ln}\arabic{ln}&\tab${equivalentTransitions} :=  \mbox{\bf induction } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } 0 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${equivalentTransitions}^{(0)} := \emptyset;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } {n}+1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${q} := ({Q'})_{{n} + 1};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${equivalentTransitions}^{({n}+1)} := {equivalentTransitions}^{({n})} \cup \{({q},{a},\mathop{\rm {{\delta}}}({t},{a}))\ |\ {t} \in \mathop{\rm {semiEquiv}}({q}) , {a} \in \mathop{\rm Proj}_{1}(\mathop{\rm {proj}}({t}))\ \&\ \neg (!\mathop{\rm {{\delta}}}({q},{a}))\};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf until }{n} = \left|{Q'}\right|$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {algorithm}} : {\cal DAUTOMATON} \times ({\cal HSTATE} \rightarrow {\cal STATE}) \times {\cal DEGREE} \times {\cal DEGREE} \times {\cal HEIGHT} \rightarrow {\cal DAUTOMATON};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {algorithm}}({A},{h},{indeg},{outdeg},{height}) := {B}, \mbox{\bf\ where } $\\
\stepcounter{ln}\arabic{ln}&\tab$\mathop{\rm {h_{{B}}}} : {\cal HSTATE} \rightarrow {\cal STATE};$\\
\stepcounter{ln}\arabic{ln}&\tab${indeg_{{B}}} \in {\cal DEGREE};$\\
\stepcounter{ln}\arabic{ln}&\tab${outdeg_{{B}}} \in {\cal DEGREE};$\\
\stepcounter{ln}\arabic{ln}&\tab${height_{{B}}} \in {\cal HEIGHT};$\\
\stepcounter{ln}\arabic{ln}&\tab${flag} \in \bbbb;$\\
\stepcounter{ln}\arabic{ln}&\tab${maxV} \in \bbbr;$\\
\stepcounter{ln}\arabic{ln}&\tab${semiEquivalent_{{B}}} \in 2^{{\cal STATE} \times {\cal CHAR} \times {\cal STATE}};$\\
\stepcounter{ln}\arabic{ln}&\tab${languageAutomaton} := \mathop{\rm {L}}({A});$\\
 & //k := 0.6 * |languageAutomaton|; \\
\stepcounter{ln}\arabic{ln}&\tab${sizeAutomaton} := \mathop{\rm {V}}({A});$\\
\stepcounter{ln}\arabic{ln}&\tab${k} := 0.600000 \times {sizeAutomaton};$\\
\stepcounter{ln}\arabic{ln}&\tab$({B},{h_{{B}}},{indeg_{{B}}},{outdeg_{{B}}},{height_{{B}}},{flag},{semiEquivalent_{{B}}},{maxV}) :=  \mbox{\bf induction } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } 0 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({B}^{(0)},{h_{{B}}}^{(0)},{indeg_{{B}}}^{(0)},{outdeg_{{B}}}^{(0)},{height_{{B}}}^{(0)},{flag}^{(0)},{maxV}^{(0)}) := ({A},{h},{indeg},{outdeg},{height},{false},0);$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${semiEquivalent_{{B}}}^{(0)} := \mathop{\rm {getSemiEquivalent}}({A});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {assert}} \ \leftarrow \ \mathop{\rm {invariant}}({A},{h},{indeg},{outdeg},{height});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf step } {n}+1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {assert}} \ \leftarrow \ \mathop{\rm {invariant}}({B}^{({n})},{h_{{B}}}^{({n})},{indeg_{{B}}}^{({n})},{outdeg_{{B}}}^{({n})},{height_{{B}}}^{({n})});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({{\Sigma}},{Q},{s},{F},{{\delta}}) := {B}^{({n})};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${C_{{1}}} \in {\cal DAUTOMATON};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {h_{{C_{{1}}}}}} : {\cal HSTATE} \rightarrow {\cal STATE};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${indeg_{{C_{{1}}}}} \in {\cal DEGREE};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${outdeg_{{C_{{1}}}}} \in {\cal DEGREE};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${height_{{C_{{1}}}}} \in {\cal HEIGHT};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${maxV_{{C_{{1}}}}} \in \bbbr;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${transitions} := {{\delta}}\mbox{\bf\ as } ({\cal STATE} \times {\cal CHAR} \times {\cal STATE})^\ast ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({C_{{1}}},{h_{{C_{{1}}}}},{indeg_{{C_{{1}}}}},{outdeg_{{C_{{1}}}}},{height_{{C_{{1}}}}},{maxV_{{C_{{1}}}}}) :=  \mbox{\bf induction } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$\mbox{\bf step } 0 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$({C_{{1}}}^{(0)},{h_{{C_{{1}}}}}^{(0)},{indeg_{{C_{{1}}}}}^{(0)},{outdeg_{{C_{{1}}}}}^{(0)},{height_{{C_{{1}}}}}^{(0)},{maxV_{{C_{{1}}}}}^{(0)}) := ({B}^{({n})},{h_{{B}}}^{({n})},{indeg_{{B}}}^{({n})},{outdeg_{{B}}}^{({n})},{height_{{B}}}^{({n})},0);$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$\mbox{\bf step } {m}+1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$({C},{h_{{C}}},{indeg_{{C}}},{outdeg_{{C}}},{height_{{C}}}) := \mathop{\rm {min}}(\mathop{\rm {trim}}(\mathop{\rm {delTr}}({B}^{({n})},({transitions})_{{m} + 1},{h_{{B}}}^{({n})},{indeg_{{B}}}^{({n})},{outdeg_{{B}}}^{({n})},{height_{{B}}}^{({n})})));$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$\mathop{\rm {assert}} \ \leftarrow \ \mathop{\rm {invariant}}({C},{h_{{C}}},{indeg_{{C}}},{outdeg_{{C}}},{height_{{C}}});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${distance} := \mathop{\rm {F_{{A}}}}({sizeAutomaton},{languageAutomaton},{C});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$({C_{{1}}}^{({m}+1)},{h_{{C_{{1}}}}}^{({m}+1)},{indeg_{{C_{{1}}}}}^{({m}+1)},{outdeg_{{C_{{1}}}}}^{({m}+1)},{height_{{C_{{1}}}}}^{({m}+1)}) := \left\{ \begin{array}{ll}({C},{h_{{C}}},{indeg_{{C}}},{outdeg_{{C}}},{height_{{C}}}) & \mbox{\bf if } {distance} > {maxV_{{C_{{1}}}}}^{({m})}\\
({C_{{1}}}^{({m})},{h_{{C_{{1}}}}}^{({m})},{indeg_{{C_{{1}}}}}^{({m})},{outdeg_{{C_{{1}}}}}^{({m})},{height_{{C_{{1}}}}}^{({m})}) & \mbox{\bf otherwise}\end{array} \right.;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${maxV_{{C_{{1}}}}}^{({m}+1)} := \mathop{\rm {max}}(\langle {distance},{maxV_{{C_{{1}}}}}^{({m})}\rangle );$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$\mbox{\bf until }{m} = \left|{transitions}\right|$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {assert}} \ \leftarrow \ \mathop{\rm {invariant}}({C_{{1}}},{h_{{C_{{1}}}}},{indeg_{{C_{{1}}}}},{outdeg_{{C_{{1}}}}},{height_{{C_{{1}}}}});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${C_{{2}}} \in {\cal DAUTOMATON};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {h_{{C_{{2}}}}}} : {\cal HSTATE} \rightarrow {\cal STATE};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${indeg_{{C_{{2}}}}} \in {\cal DEGREE};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${outdeg_{{C_{{2}}}}} \in {\cal DEGREE};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${height_{{C_{{2}}}}} \in {\cal HEIGHT};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${maxV_{{C_{{2}}}}} \in \bbbr;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${newTr} := \langle ({q_{{1}}},{a},{q_{{2}}})\ |\ ({q_{{1}}},{a},{q_{{2}}}) \in {semiEquivalent_{{B}}}^{({n})}\ \&\ \neg \mathop{\rm {existsPath}}({{\Sigma}},{{\delta}},{q_{{2}}},{q_{{1}}})\rangle ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({C_{{2}}},{h_{{C_{{2}}}}},{indeg_{{C_{{2}}}}},{outdeg_{{C_{{2}}}}},{height_{{C_{{2}}}}},{maxV_{{C_{{2}}}}}) :=  \mbox{\bf induction } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$\mbox{\bf step } 0 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$({C_{{2}}}^{(0)},{h_{{C_{{2}}}}}^{(0)},{indeg_{{C_{{2}}}}}^{(0)},{outdeg_{{C_{{2}}}}}^{(0)},{height_{{C_{{2}}}}}^{(0)},{maxV_{{C_{{2}}}}}^{(0)}) := ({B}^{({n})},{h_{{B}}}^{({n})},{indeg_{{B}}}^{({n})},{outdeg_{{B}}}^{({n})},{height_{{B}}}^{({n})},0);$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$\mbox{\bf step } {m}+1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$({C},{h_{{C}}},{indeg_{{C}}},{outdeg_{{C}}},{height_{{C}}}) := \mathop{\rm {min}}(\mathop{\rm {addTr}}({B}^{({n})},({newTr})_{{m} + 1},{h_{{B}}}^{({n})},{indeg_{{B}}}^{({n})},{outdeg_{{B}}}^{({n})},{height_{{B}}}^{({n})}));$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${distance} := \mathop{\rm {F_{{A}}}}({sizeAutomaton},{languageAutomaton},{C});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$\mathop{\rm {assert}} \ \leftarrow \ \mathop{\rm {invariant}}({C},{h_{{C}}},{indeg_{{C}}},{outdeg_{{C}}},{height_{{C}}});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$({C_{{2}}}^{({m}+1)},{h_{{C_{{2}}}}}^{({m}+1)},{indeg_{{C_{{2}}}}}^{({m}+1)},{outdeg_{{C_{{2}}}}}^{({m}+1)},{height_{{C_{{2}}}}}^{({m}+1)}) := \left\{ \begin{array}{ll}({C},{h_{{C}}},{indeg_{{C}}},{outdeg_{{C}}},{height_{{C}}}) & \mbox{\bf if } {distance} > {maxV_{{C_{{2}}}}}^{({m})}\\
({C_{{2}}}^{({m})},{h_{{C_{{2}}}}}^{({m})},{indeg_{{C_{{2}}}}}^{({m})},{outdeg_{{C_{{2}}}}}^{({m})},{height_{{C_{{2}}}}}^{({m})}) & \mbox{\bf otherwise}\end{array} \right.;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${maxV_{{C_{{2}}}}}^{({m}+1)} := \mathop{\rm {max}}(\langle {distance},{maxV_{{C_{{2}}}}}^{({m})}\rangle );$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$\mbox{\bf until }{m} = \left|{newTr}\right|$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {assert}} \ \leftarrow \ \mathop{\rm {invariant}}({C_{{2}}},{h_{{C_{{2}}}}},{indeg_{{C_{{2}}}}},{outdeg_{{C_{{2}}}}},{height_{{C_{{2}}}}});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${C_{{3}}} \in {\cal DAUTOMATON};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {h_{{C_{{3}}}}}} : {\cal HSTATE} \rightarrow {\cal STATE};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${indeg_{{C_{{3}}}}} \in {\cal DEGREE};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${outdeg_{{C_{{3}}}}} \in {\cal DEGREE};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${height_{{C_{{3}}}}} \in {\cal HEIGHT};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${maxV_{{C_{{3}}}}} \in \bbbr;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${NF} := \langle {q}\ |\ {q} \in {Q} \setminus {F}\rangle ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({C_{{3}}},{h_{{C_{{3}}}}},{indeg_{{C_{{3}}}}},{outdeg_{{C_{{3}}}}},{height_{{C_{{3}}}}},{maxV_{{C_{{3}}}}}) :=  \mbox{\bf induction } $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$\mbox{\bf step } 0 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$({C_{{3}}}^{(0)},{h_{{C_{{3}}}}}^{(0)},{indeg_{{C_{{3}}}}}^{(0)},{outdeg_{{C_{{3}}}}}^{(0)},{height_{{C_{{3}}}}}^{(0)},{maxV_{{C_{{3}}}}}^{(0)}) := ({B}^{({n})},{h_{{B}}}^{({n})},{indeg_{{B}}}^{({n})},{outdeg_{{B}}}^{({n})},{height_{{B}}}^{({n})},0);$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$\mbox{\bf step } {m}+1 : $\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$({C},{h_{{C}}},{indeg_{{C}}},{outdeg_{{C}}},{height_{{C}}}) := \mathop{\rm {min}}(\mathop{\rm {fin}}({B}^{({n})},({NF})_{{m} + 1},{h_{{B}}}^{({n})},{indeg_{{B}}}^{({n})},{outdeg_{{B}}}^{({n})},{height_{{B}}}^{({n})}));$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$\mathop{\rm {assert}} \ \leftarrow \ \mathop{\rm {invariant}}({C},{h_{{C}}},{indeg_{{C}}},{outdeg_{{C}}},{height_{{C}}});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${distance} := \mathop{\rm {F_{{A}}}}({sizeAutomaton},{languageAutomaton},{C});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab$({C_{{3}}}^{({m}+1)},{h_{{C_{{3}}}}}^{({m}+1)},{indeg_{{C_{{3}}}}}^{({m}+1)},{outdeg_{{C_{{3}}}}}^{({m}+1)},{height_{{C_{{3}}}}}^{({m}+1)}) := \left\{ \begin{array}{ll}({C},{h_{{C}}},{indeg_{{C}}},{outdeg_{{C}}},{height_{{C}}}) & \mbox{\bf if } {distance} > {maxV_{{C_{{3}}}}}^{({m})}\\
({C_{{3}}}^{({m})},{h_{{C_{{3}}}}}^{({m})},{indeg_{{C_{{3}}}}}^{({m})},{outdeg_{{C_{{3}}}}}^{({m})},{height_{{C_{{3}}}}}^{({m})}) & \mbox{\bf otherwise}\end{array} \right.;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab\tab${maxV_{{C_{{3}}}}}^{({m}+1)} := \mathop{\rm {max}}(\langle {distance},{maxV_{{C_{{3}}}}}^{({m})}\rangle );$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$\mbox{\bf until }{m} \geq \left|{NF}\right|$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {assert}} \ \leftarrow \ \mathop{\rm {invariant}}({C_{{3}}},{h_{{C_{{3}}}}},{indeg_{{C_{{3}}}}},{outdeg_{{C_{{3}}}}},{height_{{C_{{3}}}}});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${maxV_{{n}}} := {maxV}^{({n})};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${maxV}^{({n}+1)} := \mathop{\rm {max}}(\langle {maxV_{{C_{{1}}}}},{maxV_{{C_{{2}}}}},{maxV_{{C_{{3}}}}}\rangle );$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${flag}^{({n}+1)} := {maxV_{{n}}} > {maxV}^{({n}+1)};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {print}} \ \leftarrow \ \mbox{"$\setminus$nMax Add Value: $\setminus$n"};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {dump}} \ \leftarrow \ {maxV_{{C_{{2}}}}};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {print}} \ \leftarrow \ \mbox{"$\setminus$nMax Fin Value: $\setminus$n"};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {dump}} \ \leftarrow \ {maxV_{{C_{{3}}}}};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {print}} \ \leftarrow \ \mbox{"$\setminus$nMax Del Value: $\setminus$n"};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {dump}} \ \leftarrow \ {maxV_{{C_{{1}}}}};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {print}} \ \leftarrow \ \mbox{"$\setminus$nIteration Max Value: $\setminus$n"};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {dump}} \ \leftarrow \ {maxV}^{({n}+1)};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$({B}^{({n}+1)},{h_{{B}}}^{({n}+1)},{indeg_{{B}}}^{({n}+1)},{outdeg_{{B}}}^{({n}+1)},{height_{{B}}}^{({n}+1)}) := \left\{ \begin{array}{ll}({B}^{({n})},{h_{{B}}}^{({n})},{indeg_{{B}}}^{({n})},{outdeg_{{B}}}^{({n})},{height_{{B}}}^{({n})}) & \mbox{\bf if } {flag}^{({n}+1)}\\
({C_{{2}}},{h_{{C_{{2}}}}},{indeg_{{C_{{2}}}}},{outdeg_{{C_{{2}}}}},{height_{{C_{{2}}}}}) & \mbox{\bf if } {maxV_{{C_{{2}}}}} \geq \mathop{\rm {max}}(\langle {maxV_{{C_{{1}}}}},{maxV_{{C_{{3}}}}}\rangle )\\
({C_{{3}}},{h_{{C_{{3}}}}},{indeg_{{C_{{3}}}}},{outdeg_{{C_{{3}}}}},{height_{{C_{{3}}}}}) & \mbox{\bf if } {maxV_{{C_{{3}}}}} \geq \mathop{\rm {max}}(\langle {maxV_{{C_{{1}}}}},{maxV_{{C_{{2}}}}}\rangle )\\
({C_{{1}}},{h_{{C_{{1}}}}},{indeg_{{C_{{1}}}}},{outdeg_{{C_{{1}}}}},{height_{{C_{{1}}}}}) & \mbox{\bf otherwise}\end{array} \right.;$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab${semiEquivalent_{{B}}}^{({n}+1)} := \mathop{\rm {getSemiEquivalent}}({B}^{({n}+1)});$\\
\stepcounter{ln}\arabic{ln}&\tab\tab\tab$\mathop{\rm {print}} \ \leftarrow \ \mbox{"$\setminus$n========================$\setminus$n"};$\\
\stepcounter{ln}\arabic{ln}&\tab\tab$\mbox{\bf until }(\mathop{\rm {V}}({B}^{({n})}) \leq {k}) \vee {flag}^{({n})}$\\
 & //until ((langDist(languageAutomaton, L(B@n)) - 1 > k) \/ flag@n) \\
\stepcounter{ln}\arabic{ln}&\tab\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&\tab$\mathop{\rm {assert}} \ \leftarrow \ \mathop{\rm {invariant}}({B},{h_{{B}}},{indeg_{{B}}},{outdeg_{{B}}},{height_{{B}}});$\\
\stepcounter{ln}\arabic{ln}&\tab$ ;$\\
\stepcounter{ln}\arabic{ln}&${A} \in {\cal DAUTOMATON};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {h}} : {\cal HSTATE} \rightarrow {\cal STATE};$\\
\stepcounter{ln}\arabic{ln}&${indeg} \in {\cal DEGREE};$\\
\stepcounter{ln}\arabic{ln}&${outdeg} \in {\cal DEGREE};$\\
\stepcounter{ln}\arabic{ln}&${height} \in {\cal HEIGHT};$\\
\stepcounter{ln}\arabic{ln}&$({A},{h},{indeg},{outdeg},{height}) := \mathop{\rm {restoreBin}}(\mathop{\rm {argv}}(1));$\\
\stepcounter{ln}\arabic{ln}&${B} := \mathop{\rm {algorithm}}({A},{h},{indeg},{outdeg},{height});$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {print}} \ \leftarrow \ \mbox{"$\setminus$nInitial automaton size: "};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {dump}} \ \leftarrow \ \mathop{\rm {V}}({A});$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {print}} \ \leftarrow \ \mbox{"$\setminus$n"};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {print}} \ \leftarrow \ \mbox{"Final automaton size: "};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {dump}} \ \leftarrow \ \mathop{\rm {V}}({B});$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {print}} \ \leftarrow \ \mbox{"$\setminus$n"};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {print}} \ \leftarrow \ \mbox{"–êutomaton size percent: "};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {dump}} \ \leftarrow \ 100 \times \mathop{\rm {V}}({B}) / \mathop{\rm {V}}({A});$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {print}} \ \leftarrow \ \mbox{"$\setminus$n"};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {print}} \ \leftarrow \ \mbox{"Language distance: "};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {dump}} \ \leftarrow \ \mathop{\rm {langDist}}(\mathop{\rm {L}}({A}),\mathop{\rm {L}}({B})) - 1;$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {print}} \ \leftarrow \ \mbox{"$\setminus$n"};$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {print}} \ \leftarrow \ \mbox{"$\setminus$nNew words: $\setminus$n"};$\\
\stepcounter{ln}\arabic{ln}&${newWords} := \mathop{\rm {printLang}}(\langle {w}\ |\ {w} \in \mathop{\rm {L}}({B}) \setminus \mathop{\rm {L}}({A})\rangle );$\\
\stepcounter{ln}\arabic{ln}&$\mathop{\rm {print}} \ \leftarrow \ \mbox{"$\setminus$nDeleted words: $\setminus$n"};$\\
\stepcounter{ln}\arabic{ln}&${deletedWords} := \mathop{\rm {printLang}}(\langle {w}\ |\ {w} \in \mathop{\rm {L}}({A}) \setminus \mathop{\rm {L}}({B})\rangle );$\\
\end{longtable}
\end{document}
